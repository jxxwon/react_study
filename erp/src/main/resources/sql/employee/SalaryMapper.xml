<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.happyjob.study.employee.dao.SalaryDao">

	<select id="salaryList" resultType="kr.happyjob.study.employee.model.SalaryModel">
		SELECT
		    tsi.nation_pens,
		    tsi.health_insur,
		    tsi.empl_insur,
		    tsi.workers_insur,
		    tsi.annual_salary,
			tsi.salary,
			tsi.salary_year,
		    tu.name,
		    tu.loginID,
		    tu.emp_date,
		    tdc.detail_name AS pos_name
		FROM
		    tb_salary_info tsi
		LEFT OUTER JOIN tb_userinfo tu ON
		    tsi.loginID = tu.loginID
		LEFT OUTER JOIN tb_detail_code tdc ON
		    tu.pos_code = tdc.detail_code
		WHERE	
			tu.loginID = #{loginID}
			AND tsi.salary_year = #{searchDate}
	</select>

</mapper>